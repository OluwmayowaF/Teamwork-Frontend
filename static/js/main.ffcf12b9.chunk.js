(this["webpackJsonpteamwork-frontend"]=this["webpackJsonpteamwork-frontend"]||[]).push([[0],{15:function(e,t,a){},33:function(e,t,a){e.exports=a(77)},38:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(25),o=a.n(l),c=(a(38),a(10)),i=a(3),s=a(4),m=a(6),d=a(5),u=a(7),h=(a(15),a(1));var g=function(){return r.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},r.a.createElement(h.b,{className:"nav",to:"/dashboard"},r.a.createElement("img",{className:" navbar-brand",src:"https://res.cloudinary.com/oluwamayowaf/image/upload/v1574283398/TeamWorkFE/teamwork_fvc2kr.svg",alt:"logo"})))},p=a(16),f=JSON.parse(localStorage.getItem("T_T_W")),E=function(e){localStorage.setItem("T_T_W",JSON.stringify(e))},b=function(){return JSON.parse(localStorage.getItem("T_T_W")).data.token},v=function(){return null!==localStorage.getItem("T_T_W")},y="https://teamwork-be-api.herokuapp.com/api/v1",N="".concat(y,"/auth/signin"),O="".concat(y,"/auth/create-user"),j="".concat(y,"/feeds"),w="".concat(y,"/userfeeds"),C="".concat(y,"/articles"),S="".concat(y,"/gifs"),x="".concat(y,"/articles/"),A="".concat(y,"/gifs/"),k=("".concat(y,"/auth/user/"),a(11)),T=a.n(k),F=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={user:[{email:"",password:""}],loginbtn:"LOGIN",userError:!1,emailError:!1,passwordError:!1},a.onChange=function(e){a.setState(Object(c.a)({},e.target.name,e.target.value))},a.validEmail=function(e){var t=/\S+@\S+\.\S+/.test(e.target.value);return e.target.value.length<1?(e.target.style.border="2px solid red",a.setState({emailError:!0}),!1):!1===t?(e.target.style.border="2px solid red",a.setState({emailError:!0}),!1):(e.target.style.border="2px solid #90EE90",a.setState({emailError:!1}),!0)},a.validPassword=function(e){return e.target.value.length<1?(e.target.style.border="2px solid red",a.setState({passwordError:!0}),!1):(e.target.style.border="2px solid #90EE90",a.setState({passwordError:!1}),!0)},a.onSubmit=function(e){e.preventDefault(),!1!==a.validEmail&&!1!==a.validPassword?(a.setState({loginbtn:"Loading..."}),fetch(N,{method:"POST",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({email:a.state.email,password:a.state.password})}).then((function(e){return e.json()})).then((function(e){a.setState({loginbtn:"LOGIN"}),"success"===e.status?(E(e),a.props.history.push("/dashboard")):"Invalid Credentials"===e.error?a.setState({userError:!0}):T()(r.a.createElement("div",null,r.a.createElement("h3",null,"Something doesn't seem right"),r.a.createElement("p",null,"Please check your internet connection and try again")))})).catch((function(e){a.setState({loginbtn:"LOGIN"}),e&&T()(r.a.createElement("div",null,r.a.createElement("h3",null,"Something doesn't seem right"),r.a.createElement("p",null,"Please check your internet connection and try again")))}))):console.log("go and fill those fielsds guy")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",{className:"text-left col-md-12"},"Login"),r.a.createElement("p",{className:"text-left col-md-12"},"Contact the IT department for your login credentials"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"text",name:"email",placeholder:"Enter your email address...",value:this.state.user.email,onChange:this.onChange,onBlur:this.validEmail,className:"form-control",required:!0}),r.a.createElement("div",null,this.state.emailError?r.a.createElement("p",{className:"error-message"},"A valid email is required to login"):null)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",placeholder:"Enter your password",value:this.state.user.password,onChange:this.onChange,onBlur:this.validPassword,className:"form-control",required:!0}),r.a.createElement("div",null,this.state.passwordError?r.a.createElement("p",{className:"error-message"},"Password is required to login"):null),r.a.createElement("br",null)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:this.state.loginbtn,className:"Login-btn"})),this.state.userError?r.a.createElement("p",{className:"error-message"},"The email or password provided is incorrect please try again"):null))}}]),t}(n.Component),G=Object(p.g)(F);var P=function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Welcome to Teamwork"),r.a.createElement("br",null),r.a.createElement("h4",null,"Share thoughts that matter to you with your colleagues!"))};function U(){return r.a.createElement("div",{className:"container-fluid "},r.a.createElement("div",{className:"row Main-login"},!0===v()?r.a.createElement(p.a,{to:"/dashboard"}):null,r.a.createElement("div",{className:"col-lg-3"}),r.a.createElement("div",{className:"col-lg-3 Login-form-container  "},r.a.createElement(G,null)),r.a.createElement("div",{className:"col-lg-3 Welcome-message-container "},r.a.createElement(P,null)),r.a.createElement("div",{className:"col-lg-3"})))}var L=Object(p.g)((function(e){return r.a.createElement("aside",{className:"col-md-2 d-none d-md-block bg-light sidebar",style:{width:"20%",height:"100vh",float:"left",paddingTop:"100px"}},r.a.createElement("div",{className:"sidebar-stick"},r.a.createElement("ul",{className:"nav flex-column"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(h.b,{className:"nav-link pb-5",to:"/dashboard/createEmployee"},r.a.createElement("h3",{className:"text-center"},"Hi, ",e.UserName))),r.a.createElement("li",{className:"nav-item pb-3"},r.a.createElement(h.b,{className:"nav-link text-center",to:"/dashboard"},"Home")),r.a.createElement("li",{className:"nav-item pb-3"},r.a.createElement(h.b,{className:"nav-link text-center",to:"/dashboard/myposts"},"My Posts")),"admin"===f.data.role?r.a.createElement("li",{className:"nav-item pb-3"},r.a.createElement(h.b,{className:"nav-link text-center",to:"/dashboard/createEmployee"},"Create",r.a.createElement("br",null)," Employee")):null,r.a.createElement("li",{className:"nav-item pb-3 text-center"},r.a.createElement(h.b,{className:"nav-link",to:"/dashboard/postarticle"},"Add Article")),r.a.createElement("li",{className:"nav-item pb-3 text-center"},r.a.createElement(h.b,{className:"nav-link",to:"/dashboard/postgif"},"Add Gif")),r.a.createElement("li",{className:"nav-item pb-3 text-center"},r.a.createElement(h.b,{className:"av-link",onClick:e.logOut,to:"#"},"Logout")))))}));var D=function(){return r.a.createElement("footer",{className:"py-4 bg-dark text-white-50",style:{clear:"both"}},r.a.createElement("div",{className:" text-center"},r.a.createElement("small",null,"Copyright \xa9 Teamwork")))},I=a(32),z=a.n(I);var B=function(e){return r.a.createElement("div",{className:"container pt-5",style:{width:"80%",float:"right"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-1"}),r.a.createElement("div",{className:"articleContainer col-8"},r.a.createElement("h4",{className:"text-primary"}," Title: ",e.title),r.a.createElement("div",{className:""},e.url?r.a.createElement("img",{className:"center-block",src:e.url,alt:"gifImage"}):r.a.createElement("p",{className:"text-wrap text-truncate"},e.article,"  "),e.url?r.a.createElement(h.b,{style:{float:"right"},to:"/dashboard/gif/".concat(e.id)},"View More"):r.a.createElement(h.b,{style:{float:"right"},to:"/dashboard/article/".concat(e.id)},"View More")),r.a.createElement("p",{className:"text-dark"},r.a.createElement(z.a,{date:e.date}),"   ")),r.a.createElement("div",{className:"col-3"})))},J=a(19),q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={feeds:[],loaded:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=b();fetch(j,{method:"GET",mode:"cors",headers:{Accept:"aplication/json",Authorization:t}}).then((function(e){return e.json()})).then((function(t){if(t&&(e.setState({feeds:t.data}),e.setState({loaded:!0})),"401"===t.status)return r.a.createElement(p.a,{to:"/login"});t||console.log("Nothing to see here")})).catch((function(e){e&&T()(r.a.createElement("div",null,r.a.createElement("h3",null,"Something doesn't seem right"),r.a.createElement("p",null,"Please check your internet connection and try again")))}))}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.loaded?this.state.feeds.map((function(e,t){return r.a.createElement("div",{key:e.url?"gif"+e.id:"article"+e.id},r.a.createElement(B,{id:e.id,article:e.article,title:e.title,url:e.url,date:e.createdon,authorId:e.authorid}))})):r.a.createElement("div",{className:"sweet-loading",style:{margin:"20% 50%"}},r.a.createElement(J.ClipLoader,{sizeUnit:"px",size:200,color:"#0659FB",loading:this.state.loading})))}}]),t}(n.Component),W=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,!1===v()?r.a.createElement(p.a,{to:"/login"}):null,r.a.createElement(L,{logOut:this.props.logOut,UserName:this.props.UserName}),r.a.createElement(q,null),r.a.createElement(D,null))}}]),t}(n.Component),M=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={firstname:"",lastname:"",email:"",password:"",department:"",jobrole:"",gender:"",address:""},a.onChange=function(e){a.setState(Object(c.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault(),fetch(O,{method:"POST",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({firstName:a.state.firstname,lastName:a.state.lastname,email:a.state.email,password:a.state.password,department:a.state.department,jobrole:a.state.jobrole,gender:a.state.gender,address:a.state.address})}).then((function(e){return e.json()})).then((function(e){console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{marginLeft:"250px",marginRight:"150px"}},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group col-xs-10 col-sm-6 col-md-6 col-lg-6"},r.a.createElement("label",{htmlFor:"firstname"},"Firstname"),r.a.createElement("input",{type:"text",name:"firstname",placeholder:"Employee's firstname",className:"form-control",onChange:this.onChange,value:this.state.firstname,required:!0})),r.a.createElement("div",{className:"form-group col-xs-10 ccol-sm-6 col-md-6 col-lg-6"},r.a.createElement("label",{htmlFor:"lastname"},"Lastname"),r.a.createElement("input",{type:"text",name:"lastname",placeholder:"Employee's lastname",className:"form-control",onChange:this.onChange,value:this.state.lastname,required:!0})),r.a.createElement("div",{className:"form-group col-xs-10 col-sm-6 col-md-6 col-lg-6"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"text",name:"email",placeholder:"Employee's email",className:"form-control",onChange:this.onChange,value:this.state.email,required:!0})),r.a.createElement("div",{className:"form-group col-xs-10 col-sm-6 col-md-6 col-lg-6"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",placeholder:"Employee's password",onChange:this.onChange,value:this.state.password,className:"form-control",required:!0})),r.a.createElement("div",{className:"form-group col-xs-10 col-sm-6 col-md-6 col-lg-6"},r.a.createElement("label",{htmlFor:"department"},"Department"),r.a.createElement("input",{type:"text",name:"department",placeholder:"Employee's Department",className:"form-control",onChange:this.onChange,value:this.state.department,required:!0})),r.a.createElement("div",{className:"form-group col-xs-10 col-sm-6 col-md-6 col-lg-6"},r.a.createElement("label",{htmlFor:"jobrole"},"JobRole"),r.a.createElement("input",{type:"text",name:"jobrole",placeholder:"Employee's jobrole",className:"form-control",onChange:this.onChange,value:this.state.jobrole})),r.a.createElement("div",{className:"form-group col-xs-10 col-sm-6 col-md-6 col-lg-6"},r.a.createElement("label",{htmlFor:"gender"},"Gender"),r.a.createElement("select",{className:"form-control",name:"gender",value:this.state.gender,onChange:this.onChange},r.a.createElement("option",null,"Choose your gender"),r.a.createElement("option",null,"Female"),r.a.createElement("option",null,"Male"),r.a.createElement("option",null,"Prefer not to say"))),r.a.createElement("div",{className:"form-group col-xs-10 col-sm-6 col-md-6 col-lg-6"},r.a.createElement("label",{htmlFor:"address"},"Adddress"),r.a.createElement("input",{type:"textarea",name:"address",placeholder:"Employee address",className:"form-control",value:this.state.address,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Submit",className:"Login-btn"}))))}}]),t}(n.Component),_=Object(p.g)(M);var H=Object(p.g)((function(e){return r.a.createElement("div",null,r.a.createElement(_,null))}));function V(e){return r.a.createElement("div",{style:{width:"80%",float:"right",padding:"5%"}},r.a.createElement("h4",{className:"text-center text-primary"},"Add an Article"),r.a.createElement("form",{onSubmit:e.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{type:"text",name:"title",placeholder:"Article Title",value:e.title,onChange:e.onChange,className:"form-control",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"article"},"Article"),r.a.createElement("textarea",{name:"article",placeholder:"Start Writting...",rows:"5",value:e.article,onChange:e.onChange,className:"form-control",required:!0}),r.a.createElement("br",null)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"category"},"Category"),r.a.createElement("input",{type:"text",name:"category",placeholder:"Optional enter a category",value:e.category,onChange:e.onChange,className:"form-control",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:e.loginUx,className:"Login-btn"}))))}var R=a(17),$=a.n(R),K=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",article:"",category:"General",loginBtn:"Post Article"},a.onChangeArticle=function(e){a.setState(Object(c.a)({},e.target.name,e.target.value))},a.addArticle=function(e){a.setState({loginBtn:"Posting.."}),e.preventDefault();var t=b();fetch(C,{method:"POST",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:t},body:JSON.stringify({title:a.state.title,article:a.state.article,tag:a.state.category})}).then((function(e){return e.json()})).then((function(e){a.setState({loginBtn:"Post Article"}),"error"===e.status&&($()({text:"".concat(e.message),icon:"error"}),console.log(e)),e?(a.setState({title:"",article:""}),$()({text:"".concat(e.data.message),icon:"success"}),a.props.history.push("/dashboard/article/".concat(e.data.articleId)),console.log(e.data)):($()({text:"Something went wrong check your internet connection and try again",icon:"error"}),console.log(e))}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,!1===v()?r.a.createElement(p.a,{to:"/login"}):null,r.a.createElement(L,null),r.a.createElement(V,{title:this.state.title,article:this.state.article,category:this.state.category,onChange:this.onChangeArticle,onSubmit:this.addArticle,loginUx:this.state.loginBtn}))}}]),t}(n.Component),Q=Object(p.g)(K);function X(e){return r.a.createElement("div",{style:{width:"80%",float:"right",padding:"5%"}},r.a.createElement("h4",{style:{width:"50%"},className:"text-center text-primary"},"Post Gif"),r.a.createElement("form",{onSubmit:e.onSubmit,style:{width:"50%"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{type:"text",name:"title",placeholder:"Article Title",value:e.title,onChange:e.onChange,className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"gif"},"Gif"),r.a.createElement("input",{type:"file",name:"gif",value:e.gif,onChange:e.onChange,className:"form-control-file"}),r.a.createElement("br",null)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"submit",className:"Login-btn"}))))}var Y=Object(p.g)((function(e){return r.a.createElement("div",null,!1===v()?r.a.createElement(p.a,{to:"/login"}):null,r.a.createElement(L,null),r.a.createElement(X,{title:e.title,gif:e.gif,form:e.form,onChange:e.onChange,onSubmit:e.onSubmit}))})),Z=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).onChangeGif=function(e){a.setState(Object(c.a)({},e.target.name,e.target.value))},a.addGif=function(e){e.preventDefault();var t=b(),n=new FormData(a.form);fetch(S,{method:"POST",mode:"cors",headers:{Authorization:t},body:n}).then((function(e){return e.json()})).then((function(e){console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{ref:function(t){return e.form=t},onSubmit:this.addGif,style:{width:"80%",paddingTop:"100px",paddingLeft:"200px"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{type:"text",name:"title",placeholder:"Article Title",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"gif"},"Gif"),r.a.createElement("input",{type:"file",name:"image",className:"form-control-file"}),r.a.createElement("br",null)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"submit",className:"Login-btn"}))))}}]),t}(n.Component);function ee(e){return r.a.createElement("div",{className:"articleContainer"},r.a.createElement("h4",null,"Title:",e.title),r.a.createElement("p",null,"Written By: ",e.author),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{style:{background:"none",border:"none",overflow:"auto"},className:"form-control",rows:"3",name:"editarticle",defaultValue:e.article,onChange:e.onChange})))}function te(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"articleContainer"},r.a.createElement("p",{key:e.id},e.comment)))}function ae(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:e.editArticle},"Edit"),r.a.createElement("button",{onClick:function(){$()({title:"Are you sure?",text:"Once deleted, you will not be able to recover this imaginary file!",icon:"warning",buttons:!0,dangerMode:!0}).then((function(t){t&&e.deleteArticle()}))}},"Delete"))}var ne=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={article:null,loaded:!1,addcomment:" ",newcomment:null,commentAdded:!1,editarticle:"",owner:!1},a.token=b(),a.componentDidMount=function(){a.getArticle(),a.checkOwner()},a.checkOwner=function(e){f.data.userId===e&&a.setState({owner:!0})},a.getArticle=function(){var e=a.props.match.params.articleid;try{fetch(x+e,{method:"GET",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:a.token}}).then((function(e){return e.json()})).then((function(e){e&&(a.setState({article:e.data}),a.checkOwner(a.state.article.ownerid),a.setState({loaded:!0}))}))}catch(t){T()(r.a.createElement("div",null,r.a.createElement("h3",null,"Something doesn't seem right"),r.a.createElement("p",null,"Please check your internet connection and try again")))}},a.updatedArticle=function(e){a.setState(Object(c.a)({},e.target.name,e.target.value))},a.editArticle=function(e){e.preventDefault();var t=b(),n=a.props.match.params.articleid;try{fetch(x+n,{method:"PATCH",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:t},body:JSON.stringify({article:a.state.editarticle})}).then((function(e){return e.json()})).then((function(e){e&&(a.getArticle(),console.log(e.data))}))}catch(r){}},a.addComment=function(e){e.preventDefault();var t=b(),n=a.props.match.params.articleid;try{fetch(x+n+"/comment",{method:"POST",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:t},body:JSON.stringify({comment:a.state.addcomment})}).then((function(e){return e.json()})).then((function(e){e&&(a.getArticle(),a.setState({newcomment:e}),a.setState({commentAdded:!0}),console.log(e.data))}))}catch(r){}},a.onChange=function(e){a.setState(Object(c.a)({},e.target.name,e.target.value))},a.deleteArticle=function(e){var t=b(),n=a.props.match.params.articleid;try{fetch(x+n,{method:"DELETE",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:t}}).then((function(e){return e.json()})).then((function(e){e&&(T()("".concat(e.data.message),{icon:"success"}),console.log(e),a.props.history.push("/dashboard"))}))}catch(r){}},a.commentBox={},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,!1===v()?r.a.createElement(p.a,{to:"/login"}):null,r.a.createElement(L,{style:{width:"10%",float:"right"}}),r.a.createElement("div",{className:"container ",style:{float:"right",width:"80%"}},this.state.loaded?r.a.createElement(ee,{id:this.state.article.id,title:this.state.article.title,article:this.state.article.article,comment:this.state.article.comments,date:this.state.article.createdOn,onChange:this.updatedArticle,author:this.state.article.ownername,isOwner:this.state.owner}):r.a.createElement("div",{className:"sweet-loading",style:{margin:"20% 50%"}},r.a.createElement(J.ClipLoader,{sizeUnit:"px",size:200,color:"#0659FB",loading:this.state.loading})),this.state.owner?r.a.createElement(ae,{editArticle:this.editArticle,deleteArticle:this.deleteArticle}):null,this.state.loaded?"object"===typeof this.state.article.comments?this.state.article.comments.map((function(e){return r.a.createElement(te,{id:e.commentid,comment:e.comment,authorid:e.authorid})})):r.a.createElement("p",null,this.state.article.comments):null,r.a.createElement("form",{onSubmit:this.addComment},r.a.createElement("input",{style:this.commentBox,name:"addcomment",type:"text",value:this.state.addcomment,onChange:this.onChange}),r.a.createElement("button",null,"Comment"))))}}]),t}(n.Component);function re(e){return r.a.createElement("div",null,r.a.createElement("h3",null,e.title),r.a.createElement("img",{src:e.url,alt:"gifImage"}))}function le(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){T()({title:"Are you sure?",text:"Once deleted, you will not be able to recover this imaginary file!",icon:"warning",buttons:!0,dangerMode:!0}).then((function(t){t&&e.deleteGif()}))}},"Delete"))}var oe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={gif:null,loaded:!1,addcomment:" ",newcomment:null,commentAdded:!1,owner:!1},a.componentDidMount=function(){a.getGif(),a.checkOwner()},a.checkOwner=function(e){var t=f.data.userId;t===e&&(a.setState({owner:!0}),console.log(t),console.log(e))},a.getGif=function(){var e=b(),t=a.props.match.params.gifid;fetch(A+t,{method:"GET",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:e}}).then((function(e){return e.json()})).then((function(e){a.setState({gif:e.data}),a.checkOwner(a.state.gif.ownerid),a.setState({loaded:!0}),console.log(a.state.gif)}))},a.addComment=function(e){e.preventDefault();var t=b(),n=a.props.match.params.gifid;try{fetch(A+n+"/comment",{method:"POST",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:t},body:JSON.stringify({comment:a.state.addcomment})}).then((function(e){return e.json()})).then((function(e){e&&(a.getGif(),a.setState({newcomment:e}),a.setState({commentAdded:!0}),console.log(e.data))}))}catch(r){}},a.onChange=function(e){a.setState(Object(c.a)({},e.target.name,e.target.value))},a.deleteGif=function(e){var t=b(),n=a.props.match.params.gifid;try{fetch(A+n,{method:"DELETE",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:t}}).then((function(e){return e.json()})).then((function(e){e&&(T()("".concat(e.data.message),{icon:"success"}),console.log(e),a.props.history.push("/dashboard"))}))}catch(r){}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,!1===v()?r.a.createElement(p.a,{to:"/login"}):null,r.a.createElement(L,{style:{width:"10%",float:"right"}}),r.a.createElement("div",{className:"container",style:{float:"right",width:"80%"}},this.state.loaded?r.a.createElement(r.a.Fragment,null,r.a.createElement(re,{id:this.state.gif.id,date:this.state.gif.createdOn,title:this.state.gif.title,url:this.state.gif.url}),r.a.createElement("form",{onSubmit:this.addComment},r.a.createElement("input",{style:this.commentBox,name:"addcomment",type:"text",value:this.state.addcomment,onChange:this.onChange}),r.a.createElement("button",null,"Comment"))):null,this.state.owner?r.a.createElement(le,{deleteGif:this.deleteGif}):null,this.state.loaded?"object"===typeof this.state.gif.comments?this.state.gif.comments.map((function(e){return r.a.createElement(te,{id:e.commentid,comment:e.comment,authorid:e.authorid})})):r.a.createElement("p",null,this.state.gif.comments):null))}}]),t}(n.Component),ce=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={feeds:[],isloaded:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=b();fetch(w,{method:"GET",mode:"cors",headers:{Accept:"aplication/json",Authorization:t}}).then((function(e){return e.json()})).then((function(t){if(t&&(e.setState({feeds:t.data}),e.setState({isloaded:!0})),"401"===t.status)return r.a.createElement(p.a,{to:"/login"});t||console.log("Nothing to see here")})).catch((function(e){e&&T()(r.a.createElement("div",null,r.a.createElement("h3",null,"Something doesn't seem right"),r.a.createElement("p",null,"Please check your internet connection and try again")))}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{logOut:this.props.logOut}),r.a.createElement("div",null,this.state.isloaded?this.state.feeds.map((function(e,t){return r.a.createElement("div",{key:e.url?"gif"+e.id:"article"+e.id},r.a.createElement(B,{id:e.id,article:e.article,title:e.title,url:e.url,date:e.createdon,authorId:e.authorid}))})):r.a.createElement("div",{className:"sweet-loading",style:{margin:"20% 50%"}},r.a.createElement(J.ClipLoader,{sizeUnit:"px",size:200,color:"#0659FB",loading:this.state.loading}))))}}]),t}(n.Component),ie=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={loggedIn:!1},a.logOut=function(){return localStorage.removeItem("T_T_W"),r.a.createElement(p.a,{to:"/login"})},a.onChangeGif=function(e){a.setState(Object(c.a)({},e.target.name,e.target.value))},a.addGif=function(e){e.preventDefault();var t=b();fetch(S,{method:"POST",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:t},body:JSON.stringify({title:a.state.title,image:a.state.gif})}).then((function(e){return e.json()})).then((function(e){console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement(g,{logout:this.logOut}),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:U}),r.a.createElement(p.b,{path:"/login",component:U}),r.a.createElement(p.b,{exact:!0,path:"/dashboard",render:function(t){return r.a.createElement(W,Object.assign({},t,{logOut:e.logOut,UserName:e.UserName}))}}),r.a.createElement(p.b,{exact:!0,path:"/dashboard/myposts",render:function(t){return r.a.createElement(ce,Object.assign({},t,{logOut:e.logOut,UserName:e.UserName}))}}),r.a.createElement(p.b,{path:"/dashboard/createemployee",render:function(t){return r.a.createElement(H,Object.assign({},t,{logOut:e.logOut,UserName:e.UserName}))}}),r.a.createElement(p.b,{path:"/dashboard/postarticle",render:function(t){return r.a.createElement(Q,Object.assign({},t,{logOut:e.logOut,title:e.state.title,article:e.state.article,category:e.state.category,onChange:e.onChangeArticle,onSubmit:e.addArticle}))}}),r.a.createElement(p.b,{path:"/dashboard/postgif",render:function(t){return r.a.createElement(Y,Object.assign({},t,{logOut:e.logOut,title:e.state.title,gif:e.state.gif,onChange:e.onChangeGif,onSubmit:e.addGif}))}}),r.a.createElement(p.b,{path:"/dashboard/article/:articleid",component:ne}),r.a.createElement(p.b,{path:"/dashboard/gif/:gifid",component:oe}),r.a.createElement(p.b,{path:"/dashboard/addagif",component:Z})),r.a.createElement(D,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.ffcf12b9.chunk.js.map